â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                    â•‘
â•‘        ğŸ¾ XBOXPETSHOP - MACHINE LEARNING INTEGRATION GUIDE ğŸ¾      â•‘
â•‘                     Decision Tree Implementation                   â•‘
â•‘                                                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ YANG TELAH DIBUAT:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 1. CORE CLASSES (ml_prediction/)
   â”œâ”€â”€ DecisionTree.php           â†’ Algoritma C4.5 Decision Tree
   â”œâ”€â”€ DataPreprocessor.php       â†’ Data cleaning & feature engineering
   â””â”€â”€ PredictionService.php      â†’ Service layer untuk semua role

âœ… 2. TRAINING & TESTING
   â”œâ”€â”€ train_model.php            â†’ Script training model
   â”œâ”€â”€ test_quick.php             â†’ Quick test script
   â””â”€â”€ data_training.csv          â†’ Dataset 50 sampel

âœ… 3. ROLE-BASED INTERFACES
   â”œâ”€â”€ user/prediksi_layanan.php       â†’ Interface User (Rekomendasi)
   â”œâ”€â”€ kasir/prediksi_penjualan.php    â†’ Interface Kasir (Upselling)
   â”œâ”€â”€ admin/ml_management.php         â†’ Interface Admin (Management)
   â””â”€â”€ dokter/ai_assistant.php         â†’ Interface Dokter (Validation)

âœ… 4. DOCUMENTATION
   â””â”€â”€ README.md                   â†’ Dokumentasi lengkap

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ LANGKAH-LANGKAH IMPLEMENTASI
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STEP 1: TRAIN MODEL (WAJIB DILAKUKAN PERTAMA KALI)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Via Browser:
  http://localhost/rina212238/ml_prediction/train_model.php?action=train

Via Command Line:
  cd C:\laragon\www\rina212238
  php ml_prediction/train_model.php

Output yang dihasilkan:
  âœ“ model_petshop.json           (Model trained)
  âœ“ model_petshop_metadata.json  (Model info & accuracy)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

STEP 2: TEST QUICK
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  php ml_prediction/test_quick.php

Ini akan menampilkan:
  - Test klasifikasi sederhana
  - Akurasi model petshop
  - Feature importance
  - Sample prediction

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

STEP 3: AKSES INTERFACE BERDASARKAN ROLE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‘¤ USER (Pelanggan):
   http://localhost/rina212238/user/prediksi_layanan.php
   
   Output: Rekomendasi layanan dengan pesan ramah user
   - Notifikasi layanan yang dibutuhkan
   - Confidence score
   - Tombol booking

ğŸ’° KASIR:
   http://localhost/rina212238/kasir/prediksi_penjualan.php?pet_id=123
   
   Output: Sales assistant untuk upselling
   - AI recommendation
   - Script penjualan
   - Upselling opportunities
   - Promo suggestion

ğŸ› ï¸ ADMIN:
   http://localhost/rina212238/admin/ml_management.php
   
   Output: Dashboard management
   - Model accuracy
   - Feature importance
   - Training samples count
   - Retrain option

âš•ï¸ DOKTER:
   http://localhost/rina212238/dokter/ai_assistant.php?pet_id=123
   
   Output: Medical validation
   - AI recommendation
   - Health notes
   - Check points
   - Validation form

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ INTEGRASI DENGAN SISTEM EXISTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. TAMBAHKAN MENU DI SIDEBAR (Contoh untuk User)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

File: user/header.php atau template/header.php

<li>
    <a href="prediksi_layanan.php">
        <i class="fas fa-robot"></i> Rekomendasi AI
    </a>
</li>

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

2. FETCH DATA DARI DATABASE (Ganti Sample Data)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

File: user/prediksi_layanan.php (line 12-23)

GANTI DARI:
  $petData = [
      'jenis_hewan' => 'Kucing',
      'ras' => 'Persia',
      // ... hardcoded data
  ];

MENJADI:
  // Fetch dari database
  $userId = $_SESSION['user_id'];
  $query = "SELECT 
              p.jenis_hewan,
              p.ras,
              p.berat_badan,
              p.usia_bulan,
              COUNT(pk.id) as frekuensi_kunjungan,
              -- dst...
            FROM pets p
            LEFT JOIN periksa pk ON p.id = pk.id_pet
            WHERE p.user_id = ?
            GROUP BY p.id
            LIMIT 1";
  
  $stmt = $conn->prepare($query);
  $stmt->bind_param("i", $userId);
  $stmt->execute();
  $petData = $stmt->get_result()->fetch_assoc();

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

3. UPDATE SCHEMA DATABASE (OPTIONAL - untuk tracking)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

CREATE TABLE IF NOT EXISTS ai_predictions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    pet_id INT NOT NULL,
    user_id INT NOT NULL,
    prediction VARCHAR(50),
    confidence DECIMAL(5,2),
    is_accurate TINYINT(1) DEFAULT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (pet_id) REFERENCES pets(id),
    FOREIGN KEY (user_id) REFERENCES users(id)
);

Simpan setiap prediksi untuk evaluasi:

$stmt = $conn->prepare("INSERT INTO ai_predictions 
                        (pet_id, user_id, prediction, confidence) 
                        VALUES (?, ?, ?, ?)");
$stmt->bind_param("iisd", $petId, $userId, 
                  $result['prediction'], $result['confidence']);
$stmt->execute();

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš™ï¸ CUSTOMIZATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. UBAH TARGET CLASSES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Jika Anda ingin menambah/mengubah layanan:

File: data_training.csv (kolom terakhir)
  - Tambahkan data dengan target class baru
  - Minimal 5-10 sampel per class

File: PredictionService.php
  - Update array $messages di predictForUser() (line 150-175)
  - Update array $upselling di predictForKasir() (line 200-250)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

2. TUNING PARAMETER MODEL
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

File: train_model.php (line 68-69)

$model = new DecisionTree(
    maxDepth: 10,          // â† Ubah: Kedalaman maksimal tree
    minSamplesLeaf: 2      // â† Ubah: Min samples di leaf node
);

Panduan:
  - maxDepth lebih KECIL = model lebih simple (avoid overfitting)
  - minSamplesLeaf lebih BESAR = leaf nodes lebih general

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

3. BINNING CATEGORIES (Berat & Usia)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

File: DataPreprocessor.php

Method categorizeWeight() - line 420:
  $bins = [0, 5, 10, 20, PHP_INT_MAX];
  $labels = ['Kecil', 'Sedang', 'Besar', 'Sangat Besar'];

Method categorizeAge() - line 455:
  $bins = [0, 6, 12, 24, 60, 120, PHP_INT_MAX];
  $labels = ['Bayi', 'Muda', 'Remaja', 'Dewasa', 'Tua', 'Sangat Tua'];

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ› TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ Error: "Model file not found"
   Solusi: Train model dulu!
   â†’ php ml_prediction/train_model.php

âŒ Error: "Call to undefined function json_encode()"
   Solusi: Enable extension php_json
   â†’ File: php.ini, uncomment: extension=json

âŒ Akurasi rendah (< 60%)
   Solusi:
   1. Tambah data training (minimal 100+ samples)
   2. Periksa data inconsistency
   3. Tuning parameter (maxDepth, minSamplesLeaf)

âŒ Prediksi selalu sama
   Solusi: Data tidak balance!
   â†’ Pastikan setiap class punya sampel cukup (min 10)
   â†’ Cek: $metadata['target_classes']

âŒ Error: "Headers already sent"
   Solusi: Hapus spasi/newline sebelum <?php

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š CARA MENAMBAH DATA TRAINING BARU
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OPTION 1: Manual CSV
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Buka: ml_prediction/data_training.csv
2. Tambah baris baru dengan format:
   Kucing,Persia,4.5,18,5,Grooming,Grooming,Whiskas,Whiskas,30,Grooming
3. Save
4. Retrain: php ml_prediction/train_model.php

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

OPTION 2: Export Otomatis dari Database
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Buat script: ml_prediction/export_from_db.php

<?php
require_once '../config/koneksi.php';
require_once 'DataPreprocessor.php';

$query = "SELECT 
            jenis_hewan,
            ras,
            berat_badan,
            usia_bulan,
            -- dst...
          FROM pets
          JOIN periksa ON pets.id = periksa.id_pet";

$result = $conn->query($query);
$data = $result->fetch_all(MYSQLI_ASSOC);

$preprocessor = new DataPreprocessor();
// Convert array to CSV format
// ...
$preprocessor->saveCSV('data_training.csv');

echo "Data exported successfully!";
?>

Jalankan setiap bulan untuk update dataset otomatis!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ¨ FITUR YANG BISA DIKEMBANGKAN LEBIH LANJUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â–¡ Notifikasi push/email untuk user berdasarkan prediksi
â–¡ Dashboard analytics untuk tracking akurasi prediksi
â–¡ A/B testing: bandingkan model lama vs baru
â–¡ Export laporan prediksi ke PDF/Excel
â–¡ API endpoint untuk mobile app
â–¡ Visualisasi decision tree (HTML canvas/SVG)
â–¡ Integration dengan WhatsApp Bot untuk reminder
â–¡ Multi-model: bandingkan Decision Tree vs Random Forest

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ KONTAK SUPPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Jika ada pertanyaan atau butuh bantuan implementasi:
  Email: support@xboxpetshop.com
  GitHub: [Your Repository]

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‰ SELAMAT! Sistem Machine Learning Anda siap digunakan!

Langkah selanjutnya:
  1. Train model â†’ php ml_prediction/train_model.php
  2. Test â†’ php ml_prediction/test_quick.php
  3. Akses interface sesuai role
  4. Integrasikan dengan database existing
  5. Collect feedback & retrain secara berkala

Good luck! ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
